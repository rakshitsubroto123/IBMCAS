@model IEnumerable<IBMCAS.Models.Appointment>

@{
    ViewBag.Title = "FrontDesk";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<h2>Front Desk</h2>

<p>
    @*@Html.ActionLink("Create New", "Create")*@
</p>

@{ Html.RenderPartial("~/Views/Appointment/ListAppointments.cshtml", Model);}
@*<table class="table">
        <tr>
            <th>
                Token No
            </th>
            <th>
                Patient Id
            </th>
            <th>
                Physician Id
            </th>
            <th>
                Scheduled Time
            </th>
            <th>
                Show Details
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.AppointmentToken)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PatientID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhysicianID)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ScheduledTime)
                </td>
                <td>
                    <input id="checkbox-@item.AppointmentToken" type="checkbox" onclick="loadAppointmentDetails(@item.AppointmentToken)">
                </td>
            </tr>
            <tr>
                <td colspan="5" id="details-@item.AppointmentToken" style="display:none;">
                    @{Html.RenderAction("Details", "Appointment", new { id = item.AppointmentToken });}
                </td>
            </tr>
        }

    </table>

    <script>
        function loadAppointmentDetails(appointmentToken) {


            if (document.getElementById('checkbox-' + appointmentToken).checked == true) {
                document.getElementById('details-' + appointmentToken).style.display = "table-cell";
            }
            else {
                document.getElementById('details-' + appointmentToken).style.display = "none";
            }

        }
    </script>

    <script src="~/Scripts/jquery-3.7.1.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>*@

